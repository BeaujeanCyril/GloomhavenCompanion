@inherits LayoutComponentBase
@using MudBlazor

<MudThemeProvider IsDarkMode="@_isDarkMode" Theme="MyCustomTheme" DefaultScrollbar="true" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />
<MudLayout>
	<MudAppBar Color=Color.Dark Dense="true" Elevation="1">
		<MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="DrawerToggle" />
		<MudImage Alt="GloomhavenLogo" Src="img\general\gh.png" Width="200" Height="100" />  Companion
		<MudSpacer />
		<MudSwitch @bind-Value="_isDarkMode" Color="Color.Primary" Class="ma-4" T="bool"/>

		<MudIconButton Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" Edge="Edge.End" />
	</MudAppBar>
	<MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="5" MiniWidth="200" Width="12%" Height="25%" Overlay="false">
        <NavMenu />
	</MudDrawer>

	<MudMainContent>
		<MudContainer MaxWidth="MaxWidth.ExtraLarge" Style="margin-top: 20px;">
			@Body
		</MudContainer>
	</MudMainContent>
</MudLayout>
    
@code {
	private bool _drawerOpen = false;
	private bool _isDarkMode = false; // True pour le mode sombre, false pour le mode clair.

	void DrawerToggle()
	{
		_drawerOpen = !_drawerOpen;
	}

	private readonly MudTheme MyCustomTheme = new MudTheme()
		{
			PaletteLight = new PaletteLight()
			{
				Primary = Colors.Blue.Default,
				Secondary = Colors.Green.Accent4,
				AppbarBackground = Colors.Red.Default,
			},
			PaletteDark = new PaletteDark()
			{
				Primary = Colors.Blue.Lighten1,
				AppbarBackground = Colors.Red.Darken1
			},

			LayoutProperties = new LayoutProperties()
			{
				DrawerWidthLeft = "260px",
				DrawerWidthRight = "300px"
			}
		};
}